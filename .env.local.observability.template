# MAGI Decision UI - Observability Configuration Template
# 
# このファイルは観測可能性機能の環境変数テンプレートです。
# .env.local にコピーして、実際の値を設定してください。
#
# 学習目的: 各設定項目の意味と推奨値を理解できます。

# =============================================================================
# AWS基本設定
# =============================================================================

# AWSリージョン（必須）
# Amazon Bedrock AgentCoreが利用可能なリージョンを指定
AWS_REGION=us-east-1
AWS_DEFAULT_REGION=us-east-1

# AWS認証情報（開発環境用）
# 本番環境ではIAMロールを使用することを推奨
# AWS_ACCESS_KEY_ID=your_access_key_here
# AWS_SECRET_ACCESS_KEY=your_secret_key_here

# =============================================================================
# 観測可能性全般設定
# =============================================================================

# 観測可能性機能の有効/無効（デフォルト: true）
OBSERVABILITY_ENABLED=true

# サービス識別情報
SERVICE_NAME=magi-decision-ui
SERVICE_VERSION=1.0.0

# 環境識別（development, staging, production）
NODE_ENV=development

# デバッグモード（詳細ログ出力）
OBSERVABILITY_DEBUG=true

# コンソール出力の有効化（開発環境推奨）
OBSERVABILITY_CONSOLE=true

# =============================================================================
# OpenTelemetry設定
# =============================================================================

# OpenTelemetry機能の有効/無効
OTEL_ENABLED=true

# サービス名（メトリクス・トレースで使用）
OTEL_SERVICE_NAME=magi-decision-ui

# サービスバージョン
OTEL_SERVICE_VERSION=1.0.0

# サンプリングレート（0.0-1.0）
# 開発環境: 1.0（全てサンプリング）
# 本番環境: 0.1（10%サンプリング）推奨
OTEL_SAMPLING_RATE=1.0

# OpenTelemetry Distro設定（AWS用）
OTEL_PYTHON_DISTRO=aws_distro
OTEL_PYTHON_CONFIGURATOR=aws_configurator

# エクスポートプロトコル
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf

# トレースエクスポート先（自動設定されるため通常は不要）
# OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=https://otlp.us-east-1.amazonaws.com/v1/traces

# メトリクスエクスポート先（自動設定されるため通常は不要）
# OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=https://otlp.us-east-1.amazonaws.com/v1/metrics

# リソース属性（追加のメタデータ）
OTEL_RESOURCE_ATTRIBUTES=service.name=magi-decision-ui,service.version=1.0.0

# =============================================================================
# AWS X-Ray設定
# =============================================================================

# X-Ray機能の有効/無効
XRAY_ENABLED=true

# X-Rayサービス名
XRAY_SERVICE_NAME=magi-decision-ui

# サンプリングレート（0.0-1.0）
XRAY_SAMPLING_RATE=0.1

# AWS SDK自動計装の有効化
XRAY_CAPTURE_AWS=true

# HTTPS自動計装の有効化
XRAY_CAPTURE_HTTPS=true

# Promise自動計装の有効化
XRAY_CAPTURE_PROMISES=true

# =============================================================================
# CloudWatch設定
# =============================================================================

# CloudWatch機能の有効/無効
CLOUDWATCH_ENABLED=true

# メトリクスサンプリングレート
METRICS_SAMPLING_RATE=1.0

# CloudWatchログ設定
# ログレベル（DEBUG, INFO, WARN, ERROR）
LOG_LEVEL=INFO

# 構造化ログの有効化
STRUCTURED_LOGGING=true

# =============================================================================
# MAGI固有設定
# =============================================================================

# エージェント実行トレーシングの詳細レベル
MAGI_TRACE_DETAIL_LEVEL=high

# SOLOMON評価メトリクスの有効化
SOLOMON_METRICS_ENABLED=true

# 3賢者並列実行トレーシング
AGENTS_PARALLEL_TRACING=true

# セッション追跡の有効化
SESSION_TRACKING_ENABLED=true

# =============================================================================
# パフォーマンス設定
# =============================================================================

# メトリクスバッチサイズ（CloudWatch制限: 20）
METRICS_BATCH_SIZE=20

# メトリクス送信間隔（ミリ秒）
METRICS_EXPORT_INTERVAL=10000

# トレースバッチサイズ
TRACE_BATCH_SIZE=100

# トレース送信間隔（ミリ秒）
TRACE_EXPORT_INTERVAL=5000

# =============================================================================
# セキュリティ設定
# =============================================================================

# 機密情報のフィルタリング
FILTER_SENSITIVE_DATA=true

# ユーザーデータの匿名化
ANONYMIZE_USER_DATA=true

# トレースデータの保持期間（日）
TRACE_RETENTION_DAYS=30

# =============================================================================
# 開発環境専用設定
# =============================================================================

# ローカル開発時のモック有効化
ENABLE_OBSERVABILITY_MOCKS=false

# テスト環境での観測可能性無効化
DISABLE_OBSERVABILITY_IN_TESTS=true

# 詳細デバッグログの有効化
VERBOSE_OBSERVABILITY_LOGS=true

# =============================================================================
# 本番環境推奨設定（参考）
# =============================================================================

# 本番環境では以下の設定を推奨:
# OBSERVABILITY_DEBUG=false
# OBSERVABILITY_CONSOLE=false
# OTEL_SAMPLING_RATE=0.1
# XRAY_SAMPLING_RATE=0.05
# LOG_LEVEL=WARN
# VERBOSE_OBSERVABILITY_LOGS=false

# =============================================================================
# トラブルシューティング用設定
# =============================================================================

# 観測可能性機能の段階的無効化（問題切り分け用）
# OTEL_ENABLED=false
# XRAY_ENABLED=false
# CLOUDWATCH_ENABLED=false

# 特定コンポーネントのデバッグ
# DEBUG_OTEL=true
# DEBUG_XRAY=true
# DEBUG_CLOUDWATCH=true